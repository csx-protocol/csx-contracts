{
  "contractName": "NetValueCalculator",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "fullItemPrice",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isBuyerAffiliated",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "baseFeePercent",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "discountRatio",
          "type": "uint256"
        }
      ],
      "name": "calculateNetValue",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "buyerNetPrice",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "sellerNetProceeds",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "affiliatorNetReward",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "tokenHoldersNetReward",
          "type": "uint256"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    }
  ],
  "metadata": "{\"compiler\":{\"version\":\"0.8.19+commit.7dd6d404\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"fullItemPrice\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"isBuyerAffiliated\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"baseFeePercent\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"discountRatio\",\"type\":\"uint256\"}],\"name\":\"calculateNetValue\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"buyerNetPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"sellerNetProceeds\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"affiliatorNetReward\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tokenHoldersNetReward\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"project:/contracts/Referrals/NetValueCalculator.sol\":\"NetValueCalculator\"},\"evmVersion\":\"byzantium\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":300},\"remappings\":[]},\"sources\":{\"project:/contracts/Referrals/NetValueCalculator.sol\":{\"keccak256\":\"0xb55adab217b55705839d23901f44dc1142eda24bb5ad55d93515d540629cf0c5\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://1780cfa43c4ce953a8eb57f5089f8b47449a4b50ba66cff62b248c49bec8b863\",\"dweb:/ipfs/QmVzNuSX7bkHTVUHJGEdrhBknEWRc3xzcQfoGrzCBpCVPf\"]}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b506102af806100206000396000f3fe608060405234801561001057600080fd5b5060043610610047577c0100000000000000000000000000000000000000000000000000000000600035046342ba2f24811461004c575b600080fd5b61005f61005a36600461019d565b610083565b60408051948552602085019390935291830152606082015260800160405180910390f35b60008060008060328511156100f8576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601660248201527f496e76616c696420646973636f756e7420726174696f00000000000000000000604482015260640160405180910390fd5b60006064610106888b61020e565b610110919061022b565b90506000881561015a576064610126888461020e565b610130919061022b565b9050606461013f886032610266565b610149908461020e565b610153919061022b565b9350610161565b5060009250825b61016b818b610266565b9550610177828b610266565b9450836101848284610266565b61018e9190610266565b92505050945094509450949050565b600080600080608085870312156101b357600080fd5b84359350602085013580151581146101ca57600080fd5b93969395505050506040820135916060013590565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b8082028115828204841417610225576102256101df565b92915050565b600082610261577f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b500490565b81810381811115610225576102256101df56fea2646970667358221220329746025df1725ab14fda6f39c27ce9796225fe2e3138dafa6929ce643003f164736f6c63430008130033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b5060043610610047577c0100000000000000000000000000000000000000000000000000000000600035046342ba2f24811461004c575b600080fd5b61005f61005a36600461019d565b610083565b60408051948552602085019390935291830152606082015260800160405180910390f35b60008060008060328511156100f8576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601660248201527f496e76616c696420646973636f756e7420726174696f00000000000000000000604482015260640160405180910390fd5b60006064610106888b61020e565b610110919061022b565b90506000881561015a576064610126888461020e565b610130919061022b565b9050606461013f886032610266565b610149908461020e565b610153919061022b565b9350610161565b5060009250825b61016b818b610266565b9550610177828b610266565b9450836101848284610266565b61018e9190610266565b92505050945094509450949050565b600080600080608085870312156101b357600080fd5b84359350602085013580151581146101ca57600080fd5b93969395505050506040820135916060013590565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b8082028115828204841417610225576102256101df565b92915050565b600082610261577f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b500490565b81810381811115610225576102256101df56fea2646970667358221220329746025df1725ab14fda6f39c27ce9796225fe2e3138dafa6929ce643003f164736f6c63430008130033",
  "immutableReferences": {},
  "generatedSources": [],
  "deployedGeneratedSources": [
    {
      "ast": {
        "nodeType": "YulBlock",
        "src": "0:2015:36",
        "statements": [
          {
            "nodeType": "YulBlock",
            "src": "6:3:36",
            "statements": []
          },
          {
            "body": {
              "nodeType": "YulBlock",
              "src": "132:360:36",
              "statements": [
                {
                  "body": {
                    "nodeType": "YulBlock",
                    "src": "179:16:36",
                    "statements": [
                      {
                        "expression": {
                          "arguments": [
                            {
                              "kind": "number",
                              "nodeType": "YulLiteral",
                              "src": "188:1:36",
                              "type": "",
                              "value": "0"
                            },
                            {
                              "kind": "number",
                              "nodeType": "YulLiteral",
                              "src": "191:1:36",
                              "type": "",
                              "value": "0"
                            }
                          ],
                          "functionName": {
                            "name": "revert",
                            "nodeType": "YulIdentifier",
                            "src": "181:6:36"
                          },
                          "nodeType": "YulFunctionCall",
                          "src": "181:12:36"
                        },
                        "nodeType": "YulExpressionStatement",
                        "src": "181:12:36"
                      }
                    ]
                  },
                  "condition": {
                    "arguments": [
                      {
                        "arguments": [
                          {
                            "name": "dataEnd",
                            "nodeType": "YulIdentifier",
                            "src": "153:7:36"
                          },
                          {
                            "name": "headStart",
                            "nodeType": "YulIdentifier",
                            "src": "162:9:36"
                          }
                        ],
                        "functionName": {
                          "name": "sub",
                          "nodeType": "YulIdentifier",
                          "src": "149:3:36"
                        },
                        "nodeType": "YulFunctionCall",
                        "src": "149:23:36"
                      },
                      {
                        "kind": "number",
                        "nodeType": "YulLiteral",
                        "src": "174:3:36",
                        "type": "",
                        "value": "128"
                      }
                    ],
                    "functionName": {
                      "name": "slt",
                      "nodeType": "YulIdentifier",
                      "src": "145:3:36"
                    },
                    "nodeType": "YulFunctionCall",
                    "src": "145:33:36"
                  },
                  "nodeType": "YulIf",
                  "src": "142:53:36"
                },
                {
                  "nodeType": "YulAssignment",
                  "src": "204:33:36",
                  "value": {
                    "arguments": [
                      {
                        "name": "headStart",
                        "nodeType": "YulIdentifier",
                        "src": "227:9:36"
                      }
                    ],
                    "functionName": {
                      "name": "calldataload",
                      "nodeType": "YulIdentifier",
                      "src": "214:12:36"
                    },
                    "nodeType": "YulFunctionCall",
                    "src": "214:23:36"
                  },
                  "variableNames": [
                    {
                      "name": "value0",
                      "nodeType": "YulIdentifier",
                      "src": "204:6:36"
                    }
                  ]
                },
                {
                  "nodeType": "YulVariableDeclaration",
                  "src": "246:45:36",
                  "value": {
                    "arguments": [
                      {
                        "arguments": [
                          {
                            "name": "headStart",
                            "nodeType": "YulIdentifier",
                            "src": "276:9:36"
                          },
                          {
                            "kind": "number",
                            "nodeType": "YulLiteral",
                            "src": "287:2:36",
                            "type": "",
                            "value": "32"
                          }
                        ],
                        "functionName": {
                          "name": "add",
                          "nodeType": "YulIdentifier",
                          "src": "272:3:36"
                        },
                        "nodeType": "YulFunctionCall",
                        "src": "272:18:36"
                      }
                    ],
                    "functionName": {
                      "name": "calldataload",
                      "nodeType": "YulIdentifier",
                      "src": "259:12:36"
                    },
                    "nodeType": "YulFunctionCall",
                    "src": "259:32:36"
                  },
                  "variables": [
                    {
                      "name": "value",
                      "nodeType": "YulTypedName",
                      "src": "250:5:36",
                      "type": ""
                    }
                  ]
                },
                {
                  "body": {
                    "nodeType": "YulBlock",
                    "src": "344:16:36",
                    "statements": [
                      {
                        "expression": {
                          "arguments": [
                            {
                              "kind": "number",
                              "nodeType": "YulLiteral",
                              "src": "353:1:36",
                              "type": "",
                              "value": "0"
                            },
                            {
                              "kind": "number",
                              "nodeType": "YulLiteral",
                              "src": "356:1:36",
                              "type": "",
                              "value": "0"
                            }
                          ],
                          "functionName": {
                            "name": "revert",
                            "nodeType": "YulIdentifier",
                            "src": "346:6:36"
                          },
                          "nodeType": "YulFunctionCall",
                          "src": "346:12:36"
                        },
                        "nodeType": "YulExpressionStatement",
                        "src": "346:12:36"
                      }
                    ]
                  },
                  "condition": {
                    "arguments": [
                      {
                        "arguments": [
                          {
                            "name": "value",
                            "nodeType": "YulIdentifier",
                            "src": "313:5:36"
                          },
                          {
                            "arguments": [
                              {
                                "arguments": [
                                  {
                                    "name": "value",
                                    "nodeType": "YulIdentifier",
                                    "src": "334:5:36"
                                  }
                                ],
                                "functionName": {
                                  "name": "iszero",
                                  "nodeType": "YulIdentifier",
                                  "src": "327:6:36"
                                },
                                "nodeType": "YulFunctionCall",
                                "src": "327:13:36"
                              }
                            ],
                            "functionName": {
                              "name": "iszero",
                              "nodeType": "YulIdentifier",
                              "src": "320:6:36"
                            },
                            "nodeType": "YulFunctionCall",
                            "src": "320:21:36"
                          }
                        ],
                        "functionName": {
                          "name": "eq",
                          "nodeType": "YulIdentifier",
                          "src": "310:2:36"
                        },
                        "nodeType": "YulFunctionCall",
                        "src": "310:32:36"
                      }
                    ],
                    "functionName": {
                      "name": "iszero",
                      "nodeType": "YulIdentifier",
                      "src": "303:6:36"
                    },
                    "nodeType": "YulFunctionCall",
                    "src": "303:40:36"
                  },
                  "nodeType": "YulIf",
                  "src": "300:60:36"
                },
                {
                  "nodeType": "YulAssignment",
                  "src": "369:15:36",
                  "value": {
                    "name": "value",
                    "nodeType": "YulIdentifier",
                    "src": "379:5:36"
                  },
                  "variableNames": [
                    {
                      "name": "value1",
                      "nodeType": "YulIdentifier",
                      "src": "369:6:36"
                    }
                  ]
                },
                {
                  "nodeType": "YulAssignment",
                  "src": "393:42:36",
                  "value": {
                    "arguments": [
                      {
                        "arguments": [
                          {
                            "name": "headStart",
                            "nodeType": "YulIdentifier",
                            "src": "420:9:36"
                          },
                          {
                            "kind": "number",
                            "nodeType": "YulLiteral",
                            "src": "431:2:36",
                            "type": "",
                            "value": "64"
                          }
                        ],
                        "functionName": {
                          "name": "add",
                          "nodeType": "YulIdentifier",
                          "src": "416:3:36"
                        },
                        "nodeType": "YulFunctionCall",
                        "src": "416:18:36"
                      }
                    ],
                    "functionName": {
                      "name": "calldataload",
                      "nodeType": "YulIdentifier",
                      "src": "403:12:36"
                    },
                    "nodeType": "YulFunctionCall",
                    "src": "403:32:36"
                  },
                  "variableNames": [
                    {
                      "name": "value2",
                      "nodeType": "YulIdentifier",
                      "src": "393:6:36"
                    }
                  ]
                },
                {
                  "nodeType": "YulAssignment",
                  "src": "444:42:36",
                  "value": {
                    "arguments": [
                      {
                        "arguments": [
                          {
                            "name": "headStart",
                            "nodeType": "YulIdentifier",
                            "src": "471:9:36"
                          },
                          {
                            "kind": "number",
                            "nodeType": "YulLiteral",
                            "src": "482:2:36",
                            "type": "",
                            "value": "96"
                          }
                        ],
                        "functionName": {
                          "name": "add",
                          "nodeType": "YulIdentifier",
                          "src": "467:3:36"
                        },
                        "nodeType": "YulFunctionCall",
                        "src": "467:18:36"
                      }
                    ],
                    "functionName": {
                      "name": "calldataload",
                      "nodeType": "YulIdentifier",
                      "src": "454:12:36"
                    },
                    "nodeType": "YulFunctionCall",
                    "src": "454:32:36"
                  },
                  "variableNames": [
                    {
                      "name": "value3",
                      "nodeType": "YulIdentifier",
                      "src": "444:6:36"
                    }
                  ]
                }
              ]
            },
            "name": "abi_decode_tuple_t_uint256t_boolt_uint256t_uint256",
            "nodeType": "YulFunctionDefinition",
            "parameters": [
              {
                "name": "headStart",
                "nodeType": "YulTypedName",
                "src": "74:9:36",
                "type": ""
              },
              {
                "name": "dataEnd",
                "nodeType": "YulTypedName",
                "src": "85:7:36",
                "type": ""
              }
            ],
            "returnVariables": [
              {
                "name": "value0",
                "nodeType": "YulTypedName",
                "src": "97:6:36",
                "type": ""
              },
              {
                "name": "value1",
                "nodeType": "YulTypedName",
                "src": "105:6:36",
                "type": ""
              },
              {
                "name": "value2",
                "nodeType": "YulTypedName",
                "src": "113:6:36",
                "type": ""
              },
              {
                "name": "value3",
                "nodeType": "YulTypedName",
                "src": "121:6:36",
                "type": ""
              }
            ],
            "src": "14:478:36"
          },
          {
            "body": {
              "nodeType": "YulBlock",
              "src": "682:206:36",
              "statements": [
                {
                  "nodeType": "YulAssignment",
                  "src": "692:27:36",
                  "value": {
                    "arguments": [
                      {
                        "name": "headStart",
                        "nodeType": "YulIdentifier",
                        "src": "704:9:36"
                      },
                      {
                        "kind": "number",
                        "nodeType": "YulLiteral",
                        "src": "715:3:36",
                        "type": "",
                        "value": "128"
                      }
                    ],
                    "functionName": {
                      "name": "add",
                      "nodeType": "YulIdentifier",
                      "src": "700:3:36"
                    },
                    "nodeType": "YulFunctionCall",
                    "src": "700:19:36"
                  },
                  "variableNames": [
                    {
                      "name": "tail",
                      "nodeType": "YulIdentifier",
                      "src": "692:4:36"
                    }
                  ]
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "name": "headStart",
                        "nodeType": "YulIdentifier",
                        "src": "735:9:36"
                      },
                      {
                        "name": "value0",
                        "nodeType": "YulIdentifier",
                        "src": "746:6:36"
                      }
                    ],
                    "functionName": {
                      "name": "mstore",
                      "nodeType": "YulIdentifier",
                      "src": "728:6:36"
                    },
                    "nodeType": "YulFunctionCall",
                    "src": "728:25:36"
                  },
                  "nodeType": "YulExpressionStatement",
                  "src": "728:25:36"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "arguments": [
                          {
                            "name": "headStart",
                            "nodeType": "YulIdentifier",
                            "src": "773:9:36"
                          },
                          {
                            "kind": "number",
                            "nodeType": "YulLiteral",
                            "src": "784:2:36",
                            "type": "",
                            "value": "32"
                          }
                        ],
                        "functionName": {
                          "name": "add",
                          "nodeType": "YulIdentifier",
                          "src": "769:3:36"
                        },
                        "nodeType": "YulFunctionCall",
                        "src": "769:18:36"
                      },
                      {
                        "name": "value1",
                        "nodeType": "YulIdentifier",
                        "src": "789:6:36"
                      }
                    ],
                    "functionName": {
                      "name": "mstore",
                      "nodeType": "YulIdentifier",
                      "src": "762:6:36"
                    },
                    "nodeType": "YulFunctionCall",
                    "src": "762:34:36"
                  },
                  "nodeType": "YulExpressionStatement",
                  "src": "762:34:36"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "arguments": [
                          {
                            "name": "headStart",
                            "nodeType": "YulIdentifier",
                            "src": "816:9:36"
                          },
                          {
                            "kind": "number",
                            "nodeType": "YulLiteral",
                            "src": "827:2:36",
                            "type": "",
                            "value": "64"
                          }
                        ],
                        "functionName": {
                          "name": "add",
                          "nodeType": "YulIdentifier",
                          "src": "812:3:36"
                        },
                        "nodeType": "YulFunctionCall",
                        "src": "812:18:36"
                      },
                      {
                        "name": "value2",
                        "nodeType": "YulIdentifier",
                        "src": "832:6:36"
                      }
                    ],
                    "functionName": {
                      "name": "mstore",
                      "nodeType": "YulIdentifier",
                      "src": "805:6:36"
                    },
                    "nodeType": "YulFunctionCall",
                    "src": "805:34:36"
                  },
                  "nodeType": "YulExpressionStatement",
                  "src": "805:34:36"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "arguments": [
                          {
                            "name": "headStart",
                            "nodeType": "YulIdentifier",
                            "src": "859:9:36"
                          },
                          {
                            "kind": "number",
                            "nodeType": "YulLiteral",
                            "src": "870:2:36",
                            "type": "",
                            "value": "96"
                          }
                        ],
                        "functionName": {
                          "name": "add",
                          "nodeType": "YulIdentifier",
                          "src": "855:3:36"
                        },
                        "nodeType": "YulFunctionCall",
                        "src": "855:18:36"
                      },
                      {
                        "name": "value3",
                        "nodeType": "YulIdentifier",
                        "src": "875:6:36"
                      }
                    ],
                    "functionName": {
                      "name": "mstore",
                      "nodeType": "YulIdentifier",
                      "src": "848:6:36"
                    },
                    "nodeType": "YulFunctionCall",
                    "src": "848:34:36"
                  },
                  "nodeType": "YulExpressionStatement",
                  "src": "848:34:36"
                }
              ]
            },
            "name": "abi_encode_tuple_t_uint256_t_uint256_t_uint256_t_uint256__to_t_uint256_t_uint256_t_uint256_t_uint256__fromStack_reversed",
            "nodeType": "YulFunctionDefinition",
            "parameters": [
              {
                "name": "headStart",
                "nodeType": "YulTypedName",
                "src": "627:9:36",
                "type": ""
              },
              {
                "name": "value3",
                "nodeType": "YulTypedName",
                "src": "638:6:36",
                "type": ""
              },
              {
                "name": "value2",
                "nodeType": "YulTypedName",
                "src": "646:6:36",
                "type": ""
              },
              {
                "name": "value1",
                "nodeType": "YulTypedName",
                "src": "654:6:36",
                "type": ""
              },
              {
                "name": "value0",
                "nodeType": "YulTypedName",
                "src": "662:6:36",
                "type": ""
              }
            ],
            "returnVariables": [
              {
                "name": "tail",
                "nodeType": "YulTypedName",
                "src": "673:4:36",
                "type": ""
              }
            ],
            "src": "497:391:36"
          },
          {
            "body": {
              "nodeType": "YulBlock",
              "src": "1067:172:36",
              "statements": [
                {
                  "expression": {
                    "arguments": [
                      {
                        "name": "headStart",
                        "nodeType": "YulIdentifier",
                        "src": "1084:9:36"
                      },
                      {
                        "kind": "number",
                        "nodeType": "YulLiteral",
                        "src": "1095:2:36",
                        "type": "",
                        "value": "32"
                      }
                    ],
                    "functionName": {
                      "name": "mstore",
                      "nodeType": "YulIdentifier",
                      "src": "1077:6:36"
                    },
                    "nodeType": "YulFunctionCall",
                    "src": "1077:21:36"
                  },
                  "nodeType": "YulExpressionStatement",
                  "src": "1077:21:36"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "arguments": [
                          {
                            "name": "headStart",
                            "nodeType": "YulIdentifier",
                            "src": "1118:9:36"
                          },
                          {
                            "kind": "number",
                            "nodeType": "YulLiteral",
                            "src": "1129:2:36",
                            "type": "",
                            "value": "32"
                          }
                        ],
                        "functionName": {
                          "name": "add",
                          "nodeType": "YulIdentifier",
                          "src": "1114:3:36"
                        },
                        "nodeType": "YulFunctionCall",
                        "src": "1114:18:36"
                      },
                      {
                        "kind": "number",
                        "nodeType": "YulLiteral",
                        "src": "1134:2:36",
                        "type": "",
                        "value": "22"
                      }
                    ],
                    "functionName": {
                      "name": "mstore",
                      "nodeType": "YulIdentifier",
                      "src": "1107:6:36"
                    },
                    "nodeType": "YulFunctionCall",
                    "src": "1107:30:36"
                  },
                  "nodeType": "YulExpressionStatement",
                  "src": "1107:30:36"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "arguments": [
                          {
                            "name": "headStart",
                            "nodeType": "YulIdentifier",
                            "src": "1157:9:36"
                          },
                          {
                            "kind": "number",
                            "nodeType": "YulLiteral",
                            "src": "1168:2:36",
                            "type": "",
                            "value": "64"
                          }
                        ],
                        "functionName": {
                          "name": "add",
                          "nodeType": "YulIdentifier",
                          "src": "1153:3:36"
                        },
                        "nodeType": "YulFunctionCall",
                        "src": "1153:18:36"
                      },
                      {
                        "hexValue": "496e76616c696420646973636f756e7420726174696f",
                        "kind": "string",
                        "nodeType": "YulLiteral",
                        "src": "1173:24:36",
                        "type": "",
                        "value": "Invalid discount ratio"
                      }
                    ],
                    "functionName": {
                      "name": "mstore",
                      "nodeType": "YulIdentifier",
                      "src": "1146:6:36"
                    },
                    "nodeType": "YulFunctionCall",
                    "src": "1146:52:36"
                  },
                  "nodeType": "YulExpressionStatement",
                  "src": "1146:52:36"
                },
                {
                  "nodeType": "YulAssignment",
                  "src": "1207:26:36",
                  "value": {
                    "arguments": [
                      {
                        "name": "headStart",
                        "nodeType": "YulIdentifier",
                        "src": "1219:9:36"
                      },
                      {
                        "kind": "number",
                        "nodeType": "YulLiteral",
                        "src": "1230:2:36",
                        "type": "",
                        "value": "96"
                      }
                    ],
                    "functionName": {
                      "name": "add",
                      "nodeType": "YulIdentifier",
                      "src": "1215:3:36"
                    },
                    "nodeType": "YulFunctionCall",
                    "src": "1215:18:36"
                  },
                  "variableNames": [
                    {
                      "name": "tail",
                      "nodeType": "YulIdentifier",
                      "src": "1207:4:36"
                    }
                  ]
                }
              ]
            },
            "name": "abi_encode_tuple_t_stringliteral_5b5cef3df079ac2390dc2d7c5d6d7d465d203acae997f5bbfd8551a930a1d22e__to_t_string_memory_ptr__fromStack_reversed",
            "nodeType": "YulFunctionDefinition",
            "parameters": [
              {
                "name": "headStart",
                "nodeType": "YulTypedName",
                "src": "1044:9:36",
                "type": ""
              }
            ],
            "returnVariables": [
              {
                "name": "tail",
                "nodeType": "YulTypedName",
                "src": "1058:4:36",
                "type": ""
              }
            ],
            "src": "893:346:36"
          },
          {
            "body": {
              "nodeType": "YulBlock",
              "src": "1276:152:36",
              "statements": [
                {
                  "expression": {
                    "arguments": [
                      {
                        "kind": "number",
                        "nodeType": "YulLiteral",
                        "src": "1293:1:36",
                        "type": "",
                        "value": "0"
                      },
                      {
                        "kind": "number",
                        "nodeType": "YulLiteral",
                        "src": "1296:77:36",
                        "type": "",
                        "value": "35408467139433450592217433187231851964531694900788300625387963629091585785856"
                      }
                    ],
                    "functionName": {
                      "name": "mstore",
                      "nodeType": "YulIdentifier",
                      "src": "1286:6:36"
                    },
                    "nodeType": "YulFunctionCall",
                    "src": "1286:88:36"
                  },
                  "nodeType": "YulExpressionStatement",
                  "src": "1286:88:36"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "kind": "number",
                        "nodeType": "YulLiteral",
                        "src": "1390:1:36",
                        "type": "",
                        "value": "4"
                      },
                      {
                        "kind": "number",
                        "nodeType": "YulLiteral",
                        "src": "1393:4:36",
                        "type": "",
                        "value": "0x11"
                      }
                    ],
                    "functionName": {
                      "name": "mstore",
                      "nodeType": "YulIdentifier",
                      "src": "1383:6:36"
                    },
                    "nodeType": "YulFunctionCall",
                    "src": "1383:15:36"
                  },
                  "nodeType": "YulExpressionStatement",
                  "src": "1383:15:36"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "kind": "number",
                        "nodeType": "YulLiteral",
                        "src": "1414:1:36",
                        "type": "",
                        "value": "0"
                      },
                      {
                        "kind": "number",
                        "nodeType": "YulLiteral",
                        "src": "1417:4:36",
                        "type": "",
                        "value": "0x24"
                      }
                    ],
                    "functionName": {
                      "name": "revert",
                      "nodeType": "YulIdentifier",
                      "src": "1407:6:36"
                    },
                    "nodeType": "YulFunctionCall",
                    "src": "1407:15:36"
                  },
                  "nodeType": "YulExpressionStatement",
                  "src": "1407:15:36"
                }
              ]
            },
            "name": "panic_error_0x11",
            "nodeType": "YulFunctionDefinition",
            "src": "1244:184:36"
          },
          {
            "body": {
              "nodeType": "YulBlock",
              "src": "1485:116:36",
              "statements": [
                {
                  "nodeType": "YulAssignment",
                  "src": "1495:20:36",
                  "value": {
                    "arguments": [
                      {
                        "name": "x",
                        "nodeType": "YulIdentifier",
                        "src": "1510:1:36"
                      },
                      {
                        "name": "y",
                        "nodeType": "YulIdentifier",
                        "src": "1513:1:36"
                      }
                    ],
                    "functionName": {
                      "name": "mul",
                      "nodeType": "YulIdentifier",
                      "src": "1506:3:36"
                    },
                    "nodeType": "YulFunctionCall",
                    "src": "1506:9:36"
                  },
                  "variableNames": [
                    {
                      "name": "product",
                      "nodeType": "YulIdentifier",
                      "src": "1495:7:36"
                    }
                  ]
                },
                {
                  "body": {
                    "nodeType": "YulBlock",
                    "src": "1573:22:36",
                    "statements": [
                      {
                        "expression": {
                          "arguments": [],
                          "functionName": {
                            "name": "panic_error_0x11",
                            "nodeType": "YulIdentifier",
                            "src": "1575:16:36"
                          },
                          "nodeType": "YulFunctionCall",
                          "src": "1575:18:36"
                        },
                        "nodeType": "YulExpressionStatement",
                        "src": "1575:18:36"
                      }
                    ]
                  },
                  "condition": {
                    "arguments": [
                      {
                        "arguments": [
                          {
                            "arguments": [
                              {
                                "name": "x",
                                "nodeType": "YulIdentifier",
                                "src": "1544:1:36"
                              }
                            ],
                            "functionName": {
                              "name": "iszero",
                              "nodeType": "YulIdentifier",
                              "src": "1537:6:36"
                            },
                            "nodeType": "YulFunctionCall",
                            "src": "1537:9:36"
                          },
                          {
                            "arguments": [
                              {
                                "name": "y",
                                "nodeType": "YulIdentifier",
                                "src": "1551:1:36"
                              },
                              {
                                "arguments": [
                                  {
                                    "name": "product",
                                    "nodeType": "YulIdentifier",
                                    "src": "1558:7:36"
                                  },
                                  {
                                    "name": "x",
                                    "nodeType": "YulIdentifier",
                                    "src": "1567:1:36"
                                  }
                                ],
                                "functionName": {
                                  "name": "div",
                                  "nodeType": "YulIdentifier",
                                  "src": "1554:3:36"
                                },
                                "nodeType": "YulFunctionCall",
                                "src": "1554:15:36"
                              }
                            ],
                            "functionName": {
                              "name": "eq",
                              "nodeType": "YulIdentifier",
                              "src": "1548:2:36"
                            },
                            "nodeType": "YulFunctionCall",
                            "src": "1548:22:36"
                          }
                        ],
                        "functionName": {
                          "name": "or",
                          "nodeType": "YulIdentifier",
                          "src": "1534:2:36"
                        },
                        "nodeType": "YulFunctionCall",
                        "src": "1534:37:36"
                      }
                    ],
                    "functionName": {
                      "name": "iszero",
                      "nodeType": "YulIdentifier",
                      "src": "1527:6:36"
                    },
                    "nodeType": "YulFunctionCall",
                    "src": "1527:45:36"
                  },
                  "nodeType": "YulIf",
                  "src": "1524:71:36"
                }
              ]
            },
            "name": "checked_mul_t_uint256",
            "nodeType": "YulFunctionDefinition",
            "parameters": [
              {
                "name": "x",
                "nodeType": "YulTypedName",
                "src": "1464:1:36",
                "type": ""
              },
              {
                "name": "y",
                "nodeType": "YulTypedName",
                "src": "1467:1:36",
                "type": ""
              }
            ],
            "returnVariables": [
              {
                "name": "product",
                "nodeType": "YulTypedName",
                "src": "1473:7:36",
                "type": ""
              }
            ],
            "src": "1433:168:36"
          },
          {
            "body": {
              "nodeType": "YulBlock",
              "src": "1652:228:36",
              "statements": [
                {
                  "body": {
                    "nodeType": "YulBlock",
                    "src": "1683:168:36",
                    "statements": [
                      {
                        "expression": {
                          "arguments": [
                            {
                              "kind": "number",
                              "nodeType": "YulLiteral",
                              "src": "1704:1:36",
                              "type": "",
                              "value": "0"
                            },
                            {
                              "kind": "number",
                              "nodeType": "YulLiteral",
                              "src": "1707:77:36",
                              "type": "",
                              "value": "35408467139433450592217433187231851964531694900788300625387963629091585785856"
                            }
                          ],
                          "functionName": {
                            "name": "mstore",
                            "nodeType": "YulIdentifier",
                            "src": "1697:6:36"
                          },
                          "nodeType": "YulFunctionCall",
                          "src": "1697:88:36"
                        },
                        "nodeType": "YulExpressionStatement",
                        "src": "1697:88:36"
                      },
                      {
                        "expression": {
                          "arguments": [
                            {
                              "kind": "number",
                              "nodeType": "YulLiteral",
                              "src": "1805:1:36",
                              "type": "",
                              "value": "4"
                            },
                            {
                              "kind": "number",
                              "nodeType": "YulLiteral",
                              "src": "1808:4:36",
                              "type": "",
                              "value": "0x12"
                            }
                          ],
                          "functionName": {
                            "name": "mstore",
                            "nodeType": "YulIdentifier",
                            "src": "1798:6:36"
                          },
                          "nodeType": "YulFunctionCall",
                          "src": "1798:15:36"
                        },
                        "nodeType": "YulExpressionStatement",
                        "src": "1798:15:36"
                      },
                      {
                        "expression": {
                          "arguments": [
                            {
                              "kind": "number",
                              "nodeType": "YulLiteral",
                              "src": "1833:1:36",
                              "type": "",
                              "value": "0"
                            },
                            {
                              "kind": "number",
                              "nodeType": "YulLiteral",
                              "src": "1836:4:36",
                              "type": "",
                              "value": "0x24"
                            }
                          ],
                          "functionName": {
                            "name": "revert",
                            "nodeType": "YulIdentifier",
                            "src": "1826:6:36"
                          },
                          "nodeType": "YulFunctionCall",
                          "src": "1826:15:36"
                        },
                        "nodeType": "YulExpressionStatement",
                        "src": "1826:15:36"
                      }
                    ]
                  },
                  "condition": {
                    "arguments": [
                      {
                        "name": "y",
                        "nodeType": "YulIdentifier",
                        "src": "1672:1:36"
                      }
                    ],
                    "functionName": {
                      "name": "iszero",
                      "nodeType": "YulIdentifier",
                      "src": "1665:6:36"
                    },
                    "nodeType": "YulFunctionCall",
                    "src": "1665:9:36"
                  },
                  "nodeType": "YulIf",
                  "src": "1662:189:36"
                },
                {
                  "nodeType": "YulAssignment",
                  "src": "1860:14:36",
                  "value": {
                    "arguments": [
                      {
                        "name": "x",
                        "nodeType": "YulIdentifier",
                        "src": "1869:1:36"
                      },
                      {
                        "name": "y",
                        "nodeType": "YulIdentifier",
                        "src": "1872:1:36"
                      }
                    ],
                    "functionName": {
                      "name": "div",
                      "nodeType": "YulIdentifier",
                      "src": "1865:3:36"
                    },
                    "nodeType": "YulFunctionCall",
                    "src": "1865:9:36"
                  },
                  "variableNames": [
                    {
                      "name": "r",
                      "nodeType": "YulIdentifier",
                      "src": "1860:1:36"
                    }
                  ]
                }
              ]
            },
            "name": "checked_div_t_uint256",
            "nodeType": "YulFunctionDefinition",
            "parameters": [
              {
                "name": "x",
                "nodeType": "YulTypedName",
                "src": "1637:1:36",
                "type": ""
              },
              {
                "name": "y",
                "nodeType": "YulTypedName",
                "src": "1640:1:36",
                "type": ""
              }
            ],
            "returnVariables": [
              {
                "name": "r",
                "nodeType": "YulTypedName",
                "src": "1646:1:36",
                "type": ""
              }
            ],
            "src": "1606:274:36"
          },
          {
            "body": {
              "nodeType": "YulBlock",
              "src": "1934:79:36",
              "statements": [
                {
                  "nodeType": "YulAssignment",
                  "src": "1944:17:36",
                  "value": {
                    "arguments": [
                      {
                        "name": "x",
                        "nodeType": "YulIdentifier",
                        "src": "1956:1:36"
                      },
                      {
                        "name": "y",
                        "nodeType": "YulIdentifier",
                        "src": "1959:1:36"
                      }
                    ],
                    "functionName": {
                      "name": "sub",
                      "nodeType": "YulIdentifier",
                      "src": "1952:3:36"
                    },
                    "nodeType": "YulFunctionCall",
                    "src": "1952:9:36"
                  },
                  "variableNames": [
                    {
                      "name": "diff",
                      "nodeType": "YulIdentifier",
                      "src": "1944:4:36"
                    }
                  ]
                },
                {
                  "body": {
                    "nodeType": "YulBlock",
                    "src": "1985:22:36",
                    "statements": [
                      {
                        "expression": {
                          "arguments": [],
                          "functionName": {
                            "name": "panic_error_0x11",
                            "nodeType": "YulIdentifier",
                            "src": "1987:16:36"
                          },
                          "nodeType": "YulFunctionCall",
                          "src": "1987:18:36"
                        },
                        "nodeType": "YulExpressionStatement",
                        "src": "1987:18:36"
                      }
                    ]
                  },
                  "condition": {
                    "arguments": [
                      {
                        "name": "diff",
                        "nodeType": "YulIdentifier",
                        "src": "1976:4:36"
                      },
                      {
                        "name": "x",
                        "nodeType": "YulIdentifier",
                        "src": "1982:1:36"
                      }
                    ],
                    "functionName": {
                      "name": "gt",
                      "nodeType": "YulIdentifier",
                      "src": "1973:2:36"
                    },
                    "nodeType": "YulFunctionCall",
                    "src": "1973:11:36"
                  },
                  "nodeType": "YulIf",
                  "src": "1970:37:36"
                }
              ]
            },
            "name": "checked_sub_t_uint256",
            "nodeType": "YulFunctionDefinition",
            "parameters": [
              {
                "name": "x",
                "nodeType": "YulTypedName",
                "src": "1916:1:36",
                "type": ""
              },
              {
                "name": "y",
                "nodeType": "YulTypedName",
                "src": "1919:1:36",
                "type": ""
              }
            ],
            "returnVariables": [
              {
                "name": "diff",
                "nodeType": "YulTypedName",
                "src": "1925:4:36",
                "type": ""
              }
            ],
            "src": "1885:128:36"
          }
        ]
      },
      "contents": "{\n    { }\n    function abi_decode_tuple_t_uint256t_boolt_uint256t_uint256(headStart, dataEnd) -> value0, value1, value2, value3\n    {\n        if slt(sub(dataEnd, headStart), 128) { revert(0, 0) }\n        value0 := calldataload(headStart)\n        let value := calldataload(add(headStart, 32))\n        if iszero(eq(value, iszero(iszero(value)))) { revert(0, 0) }\n        value1 := value\n        value2 := calldataload(add(headStart, 64))\n        value3 := calldataload(add(headStart, 96))\n    }\n    function abi_encode_tuple_t_uint256_t_uint256_t_uint256_t_uint256__to_t_uint256_t_uint256_t_uint256_t_uint256__fromStack_reversed(headStart, value3, value2, value1, value0) -> tail\n    {\n        tail := add(headStart, 128)\n        mstore(headStart, value0)\n        mstore(add(headStart, 32), value1)\n        mstore(add(headStart, 64), value2)\n        mstore(add(headStart, 96), value3)\n    }\n    function abi_encode_tuple_t_stringliteral_5b5cef3df079ac2390dc2d7c5d6d7d465d203acae997f5bbfd8551a930a1d22e__to_t_string_memory_ptr__fromStack_reversed(headStart) -> tail\n    {\n        mstore(headStart, 32)\n        mstore(add(headStart, 32), 22)\n        mstore(add(headStart, 64), \"Invalid discount ratio\")\n        tail := add(headStart, 96)\n    }\n    function panic_error_0x11()\n    {\n        mstore(0, 35408467139433450592217433187231851964531694900788300625387963629091585785856)\n        mstore(4, 0x11)\n        revert(0, 0x24)\n    }\n    function checked_mul_t_uint256(x, y) -> product\n    {\n        product := mul(x, y)\n        if iszero(or(iszero(x), eq(y, div(product, x)))) { panic_error_0x11() }\n    }\n    function checked_div_t_uint256(x, y) -> r\n    {\n        if iszero(y)\n        {\n            mstore(0, 35408467139433450592217433187231851964531694900788300625387963629091585785856)\n            mstore(4, 0x12)\n            revert(0, 0x24)\n        }\n        r := div(x, y)\n    }\n    function checked_sub_t_uint256(x, y) -> diff\n    {\n        diff := sub(x, y)\n        if gt(diff, x) { panic_error_0x11() }\n    }\n}",
      "id": 36,
      "language": "Yul",
      "name": "#utility.yul"
    }
  ],
  "sourceMap": "229:2977:20:-:0;;;;;;;;;;;;;;;;;;;",
  "deployedSourceMap": "229:2977:20:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1731:1472;;;;;;:::i;:::-;;:::i;:::-;;;;728:25:36;;;784:2;769:18;;762:34;;;;812:18;;;805:34;870:2;855:18;;848:34;715:3;700:19;1731:1472:20;;;;;;;;2012:21;2075:25;2146:27;2221:29;2335:2;2318:13;:19;;2310:54;;;;;;;1095:2:36;2310:54:20;;;1077:21:36;1134:2;1114:18;;;1107:30;1173:24;1153:18;;;1146:52;1215:18;;2310:54:20;;;;;;;;2412:15;2465:3;2431:30;2447:14;2431:13;:30;:::i;:::-;2430:38;;;;:::i;:::-;2412:56;;2481:21;2607:17;2603:260;;;2685:3;2658:23;2668:13;2658:7;:23;:::i;:::-;2657:31;;;;:::i;:::-;2641:47;-1:-1:-1;2760:3:20;2737:18;2742:13;2737:2;:18;:::i;:::-;2726:30;;:7;:30;:::i;:::-;2725:38;;;;:::i;:::-;2703:60;;2603:260;;;-1:-1:-1;2812:1:20;;-1:-1:-1;2812:1:20;2603:260;2933:29;2949:13;2933;:29;:::i;:::-;2917:45;-1:-1:-1;3041:23:20;3057:7;3041:13;:23;:::i;:::-;3021:43;-1:-1:-1;3176:19:20;3150:23;3160:13;3150:7;:23;:::i;:::-;:45;;;;:::i;:::-;3126:69;;2299:904;;1731:1472;;;;;;;;;:::o;14:478:36:-;97:6;105;113;121;174:3;162:9;153:7;149:23;145:33;142:53;;;191:1;188;181:12;142:53;227:9;214:23;204:33;;287:2;276:9;272:18;259:32;334:5;327:13;320:21;313:5;310:32;300:60;;356:1;353;346:12;300:60;14:478;;379:5;;-1:-1:-1;;;;431:2:36;416:18;;403:32;;482:2;467:18;454:32;;14:478::o;1244:184::-;1296:77;1293:1;1286:88;1393:4;1390:1;1383:15;1417:4;1414:1;1407:15;1433:168;1506:9;;;1537;;1554:15;;;1548:22;;1534:37;1524:71;;1575:18;;:::i;:::-;1433:168;;;;:::o;1606:274::-;1646:1;1672;1662:189;;1707:77;1704:1;1697:88;1808:4;1805:1;1798:15;1836:4;1833:1;1826:15;1662:189;-1:-1:-1;1865:9:36;;1606:274::o;1885:128::-;1952:9;;;1973:11;;;1970:37;;;1987:18;;:::i",
  "source": "// SPDX-License-Identifier: MIT\r\npragma solidity ^0.8.0;\r\n\r\n// The NetValueCalculator contract calculates the net value for each party involved in a transaction:\r\n// the buyer, the seller, the affiliator, and the token holders.\r\ncontract NetValueCalculator {\r\n    // The calculateNetValue function calculates the net value for each party involved in a transaction\r\n    // based on the full item price, whether the buyer is affiliated, the base fee percentage, and the ratio between the discount\r\n    // and rebate percentages.\r\n    //\r\n    // Example:\r\n    // --------\r\n    // Assuming the following input values:\r\n    // - fullItemPrice = 1,000 tokens\r\n    // - isBuyerAffiliated = true\r\n    // - baseFeePercent = 2\r\n    // - discountRatio = 10\r\n    //\r\n    // Steps:\r\n    // 1. Calculate the base fee:\r\n    //    - baseFee = (fullItemPrice * baseFeePercent) / 100\r\n    //    - baseFee = (1,000 * 2) / 100 = 20 tokens\r\n    //\r\n    // 2. Calculate the discounted fee and affiliator reward:\r\n    //    - discountedFee = (baseFee * discountRatio) / 100\r\n    //    - discountedFee = (20 * 10) / 100 = 2 tokens\r\n    //    - affiliatorReward = (baseFee * (50 - discountRatio)) / 100\r\n    //    - affiliatorReward = (20 * (50 - 10)) / 100 = 8 tokens\r\n    //\r\n    // 3. Calculate the net value for the buyer, the seller, the affiliator, and the token holders:\r\n    //    - buyerNetPrice = fullItemPrice - discountedFee\r\n    //    - buyerNetPrice = 1,000 - 2 = 998 tokens\r\n    //    - sellerNetProceeds = fullItemPrice - baseFee\r\n    //    - sellerNetProceeds = 1,000 - 20 = 980 tokens\r\n    //    - tokenHoldersNetReward = baseFee - discountedFee - affiliatorReward\r\n    //    - tokenHoldersNetReward = 20 - 2 - 8 = 10 tokens\r\n    //\r\n    function calculateNetValue(\r\n        uint256 fullItemPrice,\r\n        bool isBuyerAffiliated,\r\n        uint256 baseFeePercent,\r\n        uint256 discountRatio // Ratio between the discount and reward percentages\r\n    )\r\n        external\r\n        pure\r\n        returns (\r\n            uint256 buyerNetPrice, // Net price for the buyer\r\n            uint256 sellerNetProceeds, // Net proceeds for the seller\r\n            uint256 affiliatorNetReward, // Net reward for the affiliator\r\n            uint256 tokenHoldersNetReward // Net reward for token holders\r\n        )\r\n    {\r\n        require(discountRatio <= 50, \"Invalid discount ratio\");\r\n\r\n        // Calculate the base fee\r\n        uint256 baseFee = (fullItemPrice * baseFeePercent) / 100;\r\n\r\n        uint256 discountedFee;\r\n        // Calculate the discounted fee and affiliator reward if the buyer is affiliated\r\n        if (isBuyerAffiliated) {\r\n            discountedFee = (baseFee * discountRatio) / 100;\r\n            affiliatorNetReward = (baseFee * (50 - discountRatio)) / 100;\r\n        } else {\r\n            discountedFee = 0;\r\n            affiliatorNetReward = 0;\r\n        }\r\n\r\n        // Calculate the buyer net price\r\n        buyerNetPrice = fullItemPrice - discountedFee;\r\n\r\n        // Calculate the seller net proceeds\r\n        sellerNetProceeds = fullItemPrice - baseFee;\r\n        // Calculate the token holders net reward\r\n        tokenHoldersNetReward = baseFee - discountedFee - affiliatorNetReward;\r\n    }\r\n}\r\n",
  "sourcePath": "C:\\Users\\Charl\\Documents\\Projects\\SteamMarket\\CSX\\csx-contracts\\contracts\\Referrals\\NetValueCalculator.sol",
  "ast": {
    "absolutePath": "project:/contracts/Referrals/NetValueCalculator.sol",
    "exportedSymbols": {
      "NetValueCalculator": [
        3359
      ]
    },
    "id": 3360,
    "license": "MIT",
    "nodeType": "SourceUnit",
    "nodes": [
      {
        "id": 3266,
        "literals": [
          "solidity",
          "^",
          "0.8",
          ".0"
        ],
        "nodeType": "PragmaDirective",
        "src": "33:23:20"
      },
      {
        "abstract": false,
        "baseContracts": [],
        "canonicalName": "NetValueCalculator",
        "contractDependencies": [],
        "contractKind": "contract",
        "fullyImplemented": true,
        "id": 3359,
        "linearizedBaseContracts": [
          3359
        ],
        "name": "NetValueCalculator",
        "nameLocation": "238:18:20",
        "nodeType": "ContractDefinition",
        "nodes": [
          {
            "body": {
              "id": 3357,
              "nodeType": "Block",
              "src": "2299:904:20",
              "statements": [
                {
                  "expression": {
                    "arguments": [
                      {
                        "commonType": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        "id": 3288,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "id": 3286,
                          "name": "discountRatio",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3274,
                          "src": "2318:13:20",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "<=",
                        "rightExpression": {
                          "hexValue": "3530",
                          "id": 3287,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "kind": "number",
                          "lValueRequested": false,
                          "nodeType": "Literal",
                          "src": "2335:2:20",
                          "typeDescriptions": {
                            "typeIdentifier": "t_rational_50_by_1",
                            "typeString": "int_const 50"
                          },
                          "value": "50"
                        },
                        "src": "2318:19:20",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "hexValue": "496e76616c696420646973636f756e7420726174696f",
                        "id": 3289,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "2339:24:20",
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_5b5cef3df079ac2390dc2d7c5d6d7d465d203acae997f5bbfd8551a930a1d22e",
                          "typeString": "literal_string \"Invalid discount ratio\""
                        },
                        "value": "Invalid discount ratio"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_5b5cef3df079ac2390dc2d7c5d6d7d465d203acae997f5bbfd8551a930a1d22e",
                          "typeString": "literal_string \"Invalid discount ratio\""
                        }
                      ],
                      "id": 3285,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        4294967278,
                        4294967278
                      ],
                      "referencedDeclaration": 4294967278,
                      "src": "2310:7:20",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 3290,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2310:54:20",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3291,
                  "nodeType": "ExpressionStatement",
                  "src": "2310:54:20"
                },
                {
                  "assignments": [
                    3293
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3293,
                      "mutability": "mutable",
                      "name": "baseFee",
                      "nameLocation": "2420:7:20",
                      "nodeType": "VariableDeclaration",
                      "scope": 3357,
                      "src": "2412:15:20",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 3292,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "2412:7:20",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 3300,
                  "initialValue": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 3299,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "components": [
                        {
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 3296,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "id": 3294,
                            "name": "fullItemPrice",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3268,
                            "src": "2431:13:20",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "*",
                          "rightExpression": {
                            "id": 3295,
                            "name": "baseFeePercent",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3272,
                            "src": "2447:14:20",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "2431:30:20",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        }
                      ],
                      "id": 3297,
                      "isConstant": false,
                      "isInlineArray": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "nodeType": "TupleExpression",
                      "src": "2430:32:20",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "/",
                    "rightExpression": {
                      "hexValue": "313030",
                      "id": 3298,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "2465:3:20",
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_100_by_1",
                        "typeString": "int_const 100"
                      },
                      "value": "100"
                    },
                    "src": "2430:38:20",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "2412:56:20"
                },
                {
                  "assignments": [
                    3302
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3302,
                      "mutability": "mutable",
                      "name": "discountedFee",
                      "nameLocation": "2489:13:20",
                      "nodeType": "VariableDeclaration",
                      "scope": 3357,
                      "src": "2481:21:20",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 3301,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "2481:7:20",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 3303,
                  "nodeType": "VariableDeclarationStatement",
                  "src": "2481:21:20"
                },
                {
                  "condition": {
                    "id": 3304,
                    "name": "isBuyerAffiliated",
                    "nodeType": "Identifier",
                    "overloadedDeclarations": [],
                    "referencedDeclaration": 3270,
                    "src": "2607:17:20",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "falseBody": {
                    "id": 3335,
                    "nodeType": "Block",
                    "src": "2781:82:20",
                    "statements": [
                      {
                        "expression": {
                          "id": 3329,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftHandSide": {
                            "id": 3327,
                            "name": "discountedFee",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3302,
                            "src": "2796:13:20",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "Assignment",
                          "operator": "=",
                          "rightHandSide": {
                            "hexValue": "30",
                            "id": 3328,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "2812:1:20",
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            },
                            "value": "0"
                          },
                          "src": "2796:17:20",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "id": 3330,
                        "nodeType": "ExpressionStatement",
                        "src": "2796:17:20"
                      },
                      {
                        "expression": {
                          "id": 3333,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftHandSide": {
                            "id": 3331,
                            "name": "affiliatorNetReward",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3281,
                            "src": "2828:19:20",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "Assignment",
                          "operator": "=",
                          "rightHandSide": {
                            "hexValue": "30",
                            "id": 3332,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "2850:1:20",
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            },
                            "value": "0"
                          },
                          "src": "2828:23:20",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "id": 3334,
                        "nodeType": "ExpressionStatement",
                        "src": "2828:23:20"
                      }
                    ]
                  },
                  "id": 3336,
                  "nodeType": "IfStatement",
                  "src": "2603:260:20",
                  "trueBody": {
                    "id": 3326,
                    "nodeType": "Block",
                    "src": "2626:149:20",
                    "statements": [
                      {
                        "expression": {
                          "id": 3312,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftHandSide": {
                            "id": 3305,
                            "name": "discountedFee",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3302,
                            "src": "2641:13:20",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "Assignment",
                          "operator": "=",
                          "rightHandSide": {
                            "commonType": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            },
                            "id": 3311,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "leftExpression": {
                              "components": [
                                {
                                  "commonType": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  },
                                  "id": 3308,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "leftExpression": {
                                    "id": 3306,
                                    "name": "baseFee",
                                    "nodeType": "Identifier",
                                    "overloadedDeclarations": [],
                                    "referencedDeclaration": 3293,
                                    "src": "2658:7:20",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_uint256",
                                      "typeString": "uint256"
                                    }
                                  },
                                  "nodeType": "BinaryOperation",
                                  "operator": "*",
                                  "rightExpression": {
                                    "id": 3307,
                                    "name": "discountRatio",
                                    "nodeType": "Identifier",
                                    "overloadedDeclarations": [],
                                    "referencedDeclaration": 3274,
                                    "src": "2668:13:20",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_uint256",
                                      "typeString": "uint256"
                                    }
                                  },
                                  "src": "2658:23:20",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  }
                                }
                              ],
                              "id": 3309,
                              "isConstant": false,
                              "isInlineArray": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "nodeType": "TupleExpression",
                              "src": "2657:25:20",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            },
                            "nodeType": "BinaryOperation",
                            "operator": "/",
                            "rightExpression": {
                              "hexValue": "313030",
                              "id": 3310,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "kind": "number",
                              "lValueRequested": false,
                              "nodeType": "Literal",
                              "src": "2685:3:20",
                              "typeDescriptions": {
                                "typeIdentifier": "t_rational_100_by_1",
                                "typeString": "int_const 100"
                              },
                              "value": "100"
                            },
                            "src": "2657:31:20",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "2641:47:20",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "id": 3313,
                        "nodeType": "ExpressionStatement",
                        "src": "2641:47:20"
                      },
                      {
                        "expression": {
                          "id": 3324,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftHandSide": {
                            "id": 3314,
                            "name": "affiliatorNetReward",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3281,
                            "src": "2703:19:20",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "Assignment",
                          "operator": "=",
                          "rightHandSide": {
                            "commonType": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            },
                            "id": 3323,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "leftExpression": {
                              "components": [
                                {
                                  "commonType": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  },
                                  "id": 3320,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "leftExpression": {
                                    "id": 3315,
                                    "name": "baseFee",
                                    "nodeType": "Identifier",
                                    "overloadedDeclarations": [],
                                    "referencedDeclaration": 3293,
                                    "src": "2726:7:20",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_uint256",
                                      "typeString": "uint256"
                                    }
                                  },
                                  "nodeType": "BinaryOperation",
                                  "operator": "*",
                                  "rightExpression": {
                                    "components": [
                                      {
                                        "commonType": {
                                          "typeIdentifier": "t_uint256",
                                          "typeString": "uint256"
                                        },
                                        "id": 3318,
                                        "isConstant": false,
                                        "isLValue": false,
                                        "isPure": false,
                                        "lValueRequested": false,
                                        "leftExpression": {
                                          "hexValue": "3530",
                                          "id": 3316,
                                          "isConstant": false,
                                          "isLValue": false,
                                          "isPure": true,
                                          "kind": "number",
                                          "lValueRequested": false,
                                          "nodeType": "Literal",
                                          "src": "2737:2:20",
                                          "typeDescriptions": {
                                            "typeIdentifier": "t_rational_50_by_1",
                                            "typeString": "int_const 50"
                                          },
                                          "value": "50"
                                        },
                                        "nodeType": "BinaryOperation",
                                        "operator": "-",
                                        "rightExpression": {
                                          "id": 3317,
                                          "name": "discountRatio",
                                          "nodeType": "Identifier",
                                          "overloadedDeclarations": [],
                                          "referencedDeclaration": 3274,
                                          "src": "2742:13:20",
                                          "typeDescriptions": {
                                            "typeIdentifier": "t_uint256",
                                            "typeString": "uint256"
                                          }
                                        },
                                        "src": "2737:18:20",
                                        "typeDescriptions": {
                                          "typeIdentifier": "t_uint256",
                                          "typeString": "uint256"
                                        }
                                      }
                                    ],
                                    "id": 3319,
                                    "isConstant": false,
                                    "isInlineArray": false,
                                    "isLValue": false,
                                    "isPure": false,
                                    "lValueRequested": false,
                                    "nodeType": "TupleExpression",
                                    "src": "2736:20:20",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_uint256",
                                      "typeString": "uint256"
                                    }
                                  },
                                  "src": "2726:30:20",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  }
                                }
                              ],
                              "id": 3321,
                              "isConstant": false,
                              "isInlineArray": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "nodeType": "TupleExpression",
                              "src": "2725:32:20",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            },
                            "nodeType": "BinaryOperation",
                            "operator": "/",
                            "rightExpression": {
                              "hexValue": "313030",
                              "id": 3322,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "kind": "number",
                              "lValueRequested": false,
                              "nodeType": "Literal",
                              "src": "2760:3:20",
                              "typeDescriptions": {
                                "typeIdentifier": "t_rational_100_by_1",
                                "typeString": "int_const 100"
                              },
                              "value": "100"
                            },
                            "src": "2725:38:20",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "2703:60:20",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "id": 3325,
                        "nodeType": "ExpressionStatement",
                        "src": "2703:60:20"
                      }
                    ]
                  }
                },
                {
                  "expression": {
                    "id": 3341,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 3337,
                      "name": "buyerNetPrice",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3277,
                      "src": "2917:13:20",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "commonType": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "id": 3340,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "leftExpression": {
                        "id": 3338,
                        "name": "fullItemPrice",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3268,
                        "src": "2933:13:20",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "nodeType": "BinaryOperation",
                      "operator": "-",
                      "rightExpression": {
                        "id": 3339,
                        "name": "discountedFee",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3302,
                        "src": "2949:13:20",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "src": "2933:29:20",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "2917:45:20",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 3342,
                  "nodeType": "ExpressionStatement",
                  "src": "2917:45:20"
                },
                {
                  "expression": {
                    "id": 3347,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 3343,
                      "name": "sellerNetProceeds",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3279,
                      "src": "3021:17:20",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "commonType": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "id": 3346,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "leftExpression": {
                        "id": 3344,
                        "name": "fullItemPrice",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3268,
                        "src": "3041:13:20",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "nodeType": "BinaryOperation",
                      "operator": "-",
                      "rightExpression": {
                        "id": 3345,
                        "name": "baseFee",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3293,
                        "src": "3057:7:20",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "src": "3041:23:20",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "3021:43:20",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 3348,
                  "nodeType": "ExpressionStatement",
                  "src": "3021:43:20"
                },
                {
                  "expression": {
                    "id": 3355,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 3349,
                      "name": "tokenHoldersNetReward",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3283,
                      "src": "3126:21:20",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "commonType": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "id": 3354,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "leftExpression": {
                        "commonType": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        "id": 3352,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "id": 3350,
                          "name": "baseFee",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3293,
                          "src": "3150:7:20",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "-",
                        "rightExpression": {
                          "id": 3351,
                          "name": "discountedFee",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3302,
                          "src": "3160:13:20",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "src": "3150:23:20",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "nodeType": "BinaryOperation",
                      "operator": "-",
                      "rightExpression": {
                        "id": 3353,
                        "name": "affiliatorNetReward",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3281,
                        "src": "3176:19:20",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "src": "3150:45:20",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "3126:69:20",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 3356,
                  "nodeType": "ExpressionStatement",
                  "src": "3126:69:20"
                }
              ]
            },
            "functionSelector": "42ba2f24",
            "id": 3358,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "calculateNetValue",
            "nameLocation": "1740:17:20",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3275,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3268,
                  "mutability": "mutable",
                  "name": "fullItemPrice",
                  "nameLocation": "1776:13:20",
                  "nodeType": "VariableDeclaration",
                  "scope": 3358,
                  "src": "1768:21:20",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3267,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "1768:7:20",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3270,
                  "mutability": "mutable",
                  "name": "isBuyerAffiliated",
                  "nameLocation": "1805:17:20",
                  "nodeType": "VariableDeclaration",
                  "scope": 3358,
                  "src": "1800:22:20",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bool",
                    "typeString": "bool"
                  },
                  "typeName": {
                    "id": 3269,
                    "name": "bool",
                    "nodeType": "ElementaryTypeName",
                    "src": "1800:4:20",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3272,
                  "mutability": "mutable",
                  "name": "baseFeePercent",
                  "nameLocation": "1841:14:20",
                  "nodeType": "VariableDeclaration",
                  "scope": 3358,
                  "src": "1833:22:20",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3271,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "1833:7:20",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3274,
                  "mutability": "mutable",
                  "name": "discountRatio",
                  "nameLocation": "1874:13:20",
                  "nodeType": "VariableDeclaration",
                  "scope": 3358,
                  "src": "1866:21:20",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3273,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "1866:7:20",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "1757:190:20"
            },
            "returnParameters": {
              "id": 3284,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3277,
                  "mutability": "mutable",
                  "name": "buyerNetPrice",
                  "nameLocation": "2020:13:20",
                  "nodeType": "VariableDeclaration",
                  "scope": 3358,
                  "src": "2012:21:20",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3276,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2012:7:20",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3279,
                  "mutability": "mutable",
                  "name": "sellerNetProceeds",
                  "nameLocation": "2083:17:20",
                  "nodeType": "VariableDeclaration",
                  "scope": 3358,
                  "src": "2075:25:20",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3278,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2075:7:20",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3281,
                  "mutability": "mutable",
                  "name": "affiliatorNetReward",
                  "nameLocation": "2154:19:20",
                  "nodeType": "VariableDeclaration",
                  "scope": 3358,
                  "src": "2146:27:20",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3280,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2146:7:20",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3283,
                  "mutability": "mutable",
                  "name": "tokenHoldersNetReward",
                  "nameLocation": "2229:21:20",
                  "nodeType": "VariableDeclaration",
                  "scope": 3358,
                  "src": "2221:29:20",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3282,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2221:7:20",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "1997:296:20"
            },
            "scope": 3359,
            "src": "1731:1472:20",
            "stateMutability": "pure",
            "virtual": false,
            "visibility": "external"
          }
        ],
        "scope": 3360,
        "src": "229:2977:20",
        "usedErrors": []
      }
    ],
    "src": "33:3175:20"
  },
  "legacyAST": {
    "absolutePath": "project:/contracts/Referrals/NetValueCalculator.sol",
    "exportedSymbols": {
      "NetValueCalculator": [
        3359
      ]
    },
    "id": 3360,
    "license": "MIT",
    "nodeType": "SourceUnit",
    "nodes": [
      {
        "id": 3266,
        "literals": [
          "solidity",
          "^",
          "0.8",
          ".0"
        ],
        "nodeType": "PragmaDirective",
        "src": "33:23:20"
      },
      {
        "abstract": false,
        "baseContracts": [],
        "canonicalName": "NetValueCalculator",
        "contractDependencies": [],
        "contractKind": "contract",
        "fullyImplemented": true,
        "id": 3359,
        "linearizedBaseContracts": [
          3359
        ],
        "name": "NetValueCalculator",
        "nameLocation": "238:18:20",
        "nodeType": "ContractDefinition",
        "nodes": [
          {
            "body": {
              "id": 3357,
              "nodeType": "Block",
              "src": "2299:904:20",
              "statements": [
                {
                  "expression": {
                    "arguments": [
                      {
                        "commonType": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        "id": 3288,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "id": 3286,
                          "name": "discountRatio",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3274,
                          "src": "2318:13:20",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "<=",
                        "rightExpression": {
                          "hexValue": "3530",
                          "id": 3287,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "kind": "number",
                          "lValueRequested": false,
                          "nodeType": "Literal",
                          "src": "2335:2:20",
                          "typeDescriptions": {
                            "typeIdentifier": "t_rational_50_by_1",
                            "typeString": "int_const 50"
                          },
                          "value": "50"
                        },
                        "src": "2318:19:20",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "hexValue": "496e76616c696420646973636f756e7420726174696f",
                        "id": 3289,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "2339:24:20",
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_5b5cef3df079ac2390dc2d7c5d6d7d465d203acae997f5bbfd8551a930a1d22e",
                          "typeString": "literal_string \"Invalid discount ratio\""
                        },
                        "value": "Invalid discount ratio"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_5b5cef3df079ac2390dc2d7c5d6d7d465d203acae997f5bbfd8551a930a1d22e",
                          "typeString": "literal_string \"Invalid discount ratio\""
                        }
                      ],
                      "id": 3285,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        4294967278,
                        4294967278
                      ],
                      "referencedDeclaration": 4294967278,
                      "src": "2310:7:20",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 3290,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2310:54:20",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3291,
                  "nodeType": "ExpressionStatement",
                  "src": "2310:54:20"
                },
                {
                  "assignments": [
                    3293
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3293,
                      "mutability": "mutable",
                      "name": "baseFee",
                      "nameLocation": "2420:7:20",
                      "nodeType": "VariableDeclaration",
                      "scope": 3357,
                      "src": "2412:15:20",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 3292,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "2412:7:20",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 3300,
                  "initialValue": {
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 3299,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "components": [
                        {
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 3296,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "id": 3294,
                            "name": "fullItemPrice",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3268,
                            "src": "2431:13:20",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "*",
                          "rightExpression": {
                            "id": 3295,
                            "name": "baseFeePercent",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3272,
                            "src": "2447:14:20",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "2431:30:20",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        }
                      ],
                      "id": 3297,
                      "isConstant": false,
                      "isInlineArray": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "nodeType": "TupleExpression",
                      "src": "2430:32:20",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "/",
                    "rightExpression": {
                      "hexValue": "313030",
                      "id": 3298,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "2465:3:20",
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_100_by_1",
                        "typeString": "int_const 100"
                      },
                      "value": "100"
                    },
                    "src": "2430:38:20",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "2412:56:20"
                },
                {
                  "assignments": [
                    3302
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3302,
                      "mutability": "mutable",
                      "name": "discountedFee",
                      "nameLocation": "2489:13:20",
                      "nodeType": "VariableDeclaration",
                      "scope": 3357,
                      "src": "2481:21:20",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 3301,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "2481:7:20",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 3303,
                  "nodeType": "VariableDeclarationStatement",
                  "src": "2481:21:20"
                },
                {
                  "condition": {
                    "id": 3304,
                    "name": "isBuyerAffiliated",
                    "nodeType": "Identifier",
                    "overloadedDeclarations": [],
                    "referencedDeclaration": 3270,
                    "src": "2607:17:20",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "falseBody": {
                    "id": 3335,
                    "nodeType": "Block",
                    "src": "2781:82:20",
                    "statements": [
                      {
                        "expression": {
                          "id": 3329,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftHandSide": {
                            "id": 3327,
                            "name": "discountedFee",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3302,
                            "src": "2796:13:20",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "Assignment",
                          "operator": "=",
                          "rightHandSide": {
                            "hexValue": "30",
                            "id": 3328,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "2812:1:20",
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            },
                            "value": "0"
                          },
                          "src": "2796:17:20",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "id": 3330,
                        "nodeType": "ExpressionStatement",
                        "src": "2796:17:20"
                      },
                      {
                        "expression": {
                          "id": 3333,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftHandSide": {
                            "id": 3331,
                            "name": "affiliatorNetReward",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3281,
                            "src": "2828:19:20",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "Assignment",
                          "operator": "=",
                          "rightHandSide": {
                            "hexValue": "30",
                            "id": 3332,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "2850:1:20",
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            },
                            "value": "0"
                          },
                          "src": "2828:23:20",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "id": 3334,
                        "nodeType": "ExpressionStatement",
                        "src": "2828:23:20"
                      }
                    ]
                  },
                  "id": 3336,
                  "nodeType": "IfStatement",
                  "src": "2603:260:20",
                  "trueBody": {
                    "id": 3326,
                    "nodeType": "Block",
                    "src": "2626:149:20",
                    "statements": [
                      {
                        "expression": {
                          "id": 3312,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftHandSide": {
                            "id": 3305,
                            "name": "discountedFee",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3302,
                            "src": "2641:13:20",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "Assignment",
                          "operator": "=",
                          "rightHandSide": {
                            "commonType": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            },
                            "id": 3311,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "leftExpression": {
                              "components": [
                                {
                                  "commonType": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  },
                                  "id": 3308,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "leftExpression": {
                                    "id": 3306,
                                    "name": "baseFee",
                                    "nodeType": "Identifier",
                                    "overloadedDeclarations": [],
                                    "referencedDeclaration": 3293,
                                    "src": "2658:7:20",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_uint256",
                                      "typeString": "uint256"
                                    }
                                  },
                                  "nodeType": "BinaryOperation",
                                  "operator": "*",
                                  "rightExpression": {
                                    "id": 3307,
                                    "name": "discountRatio",
                                    "nodeType": "Identifier",
                                    "overloadedDeclarations": [],
                                    "referencedDeclaration": 3274,
                                    "src": "2668:13:20",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_uint256",
                                      "typeString": "uint256"
                                    }
                                  },
                                  "src": "2658:23:20",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  }
                                }
                              ],
                              "id": 3309,
                              "isConstant": false,
                              "isInlineArray": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "nodeType": "TupleExpression",
                              "src": "2657:25:20",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            },
                            "nodeType": "BinaryOperation",
                            "operator": "/",
                            "rightExpression": {
                              "hexValue": "313030",
                              "id": 3310,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "kind": "number",
                              "lValueRequested": false,
                              "nodeType": "Literal",
                              "src": "2685:3:20",
                              "typeDescriptions": {
                                "typeIdentifier": "t_rational_100_by_1",
                                "typeString": "int_const 100"
                              },
                              "value": "100"
                            },
                            "src": "2657:31:20",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "2641:47:20",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "id": 3313,
                        "nodeType": "ExpressionStatement",
                        "src": "2641:47:20"
                      },
                      {
                        "expression": {
                          "id": 3324,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftHandSide": {
                            "id": 3314,
                            "name": "affiliatorNetReward",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3281,
                            "src": "2703:19:20",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "Assignment",
                          "operator": "=",
                          "rightHandSide": {
                            "commonType": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            },
                            "id": 3323,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "leftExpression": {
                              "components": [
                                {
                                  "commonType": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  },
                                  "id": 3320,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "leftExpression": {
                                    "id": 3315,
                                    "name": "baseFee",
                                    "nodeType": "Identifier",
                                    "overloadedDeclarations": [],
                                    "referencedDeclaration": 3293,
                                    "src": "2726:7:20",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_uint256",
                                      "typeString": "uint256"
                                    }
                                  },
                                  "nodeType": "BinaryOperation",
                                  "operator": "*",
                                  "rightExpression": {
                                    "components": [
                                      {
                                        "commonType": {
                                          "typeIdentifier": "t_uint256",
                                          "typeString": "uint256"
                                        },
                                        "id": 3318,
                                        "isConstant": false,
                                        "isLValue": false,
                                        "isPure": false,
                                        "lValueRequested": false,
                                        "leftExpression": {
                                          "hexValue": "3530",
                                          "id": 3316,
                                          "isConstant": false,
                                          "isLValue": false,
                                          "isPure": true,
                                          "kind": "number",
                                          "lValueRequested": false,
                                          "nodeType": "Literal",
                                          "src": "2737:2:20",
                                          "typeDescriptions": {
                                            "typeIdentifier": "t_rational_50_by_1",
                                            "typeString": "int_const 50"
                                          },
                                          "value": "50"
                                        },
                                        "nodeType": "BinaryOperation",
                                        "operator": "-",
                                        "rightExpression": {
                                          "id": 3317,
                                          "name": "discountRatio",
                                          "nodeType": "Identifier",
                                          "overloadedDeclarations": [],
                                          "referencedDeclaration": 3274,
                                          "src": "2742:13:20",
                                          "typeDescriptions": {
                                            "typeIdentifier": "t_uint256",
                                            "typeString": "uint256"
                                          }
                                        },
                                        "src": "2737:18:20",
                                        "typeDescriptions": {
                                          "typeIdentifier": "t_uint256",
                                          "typeString": "uint256"
                                        }
                                      }
                                    ],
                                    "id": 3319,
                                    "isConstant": false,
                                    "isInlineArray": false,
                                    "isLValue": false,
                                    "isPure": false,
                                    "lValueRequested": false,
                                    "nodeType": "TupleExpression",
                                    "src": "2736:20:20",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_uint256",
                                      "typeString": "uint256"
                                    }
                                  },
                                  "src": "2726:30:20",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  }
                                }
                              ],
                              "id": 3321,
                              "isConstant": false,
                              "isInlineArray": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "nodeType": "TupleExpression",
                              "src": "2725:32:20",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            },
                            "nodeType": "BinaryOperation",
                            "operator": "/",
                            "rightExpression": {
                              "hexValue": "313030",
                              "id": 3322,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "kind": "number",
                              "lValueRequested": false,
                              "nodeType": "Literal",
                              "src": "2760:3:20",
                              "typeDescriptions": {
                                "typeIdentifier": "t_rational_100_by_1",
                                "typeString": "int_const 100"
                              },
                              "value": "100"
                            },
                            "src": "2725:38:20",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "2703:60:20",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "id": 3325,
                        "nodeType": "ExpressionStatement",
                        "src": "2703:60:20"
                      }
                    ]
                  }
                },
                {
                  "expression": {
                    "id": 3341,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 3337,
                      "name": "buyerNetPrice",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3277,
                      "src": "2917:13:20",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "commonType": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "id": 3340,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "leftExpression": {
                        "id": 3338,
                        "name": "fullItemPrice",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3268,
                        "src": "2933:13:20",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "nodeType": "BinaryOperation",
                      "operator": "-",
                      "rightExpression": {
                        "id": 3339,
                        "name": "discountedFee",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3302,
                        "src": "2949:13:20",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "src": "2933:29:20",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "2917:45:20",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 3342,
                  "nodeType": "ExpressionStatement",
                  "src": "2917:45:20"
                },
                {
                  "expression": {
                    "id": 3347,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 3343,
                      "name": "sellerNetProceeds",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3279,
                      "src": "3021:17:20",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "commonType": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "id": 3346,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "leftExpression": {
                        "id": 3344,
                        "name": "fullItemPrice",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3268,
                        "src": "3041:13:20",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "nodeType": "BinaryOperation",
                      "operator": "-",
                      "rightExpression": {
                        "id": 3345,
                        "name": "baseFee",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3293,
                        "src": "3057:7:20",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "src": "3041:23:20",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "3021:43:20",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 3348,
                  "nodeType": "ExpressionStatement",
                  "src": "3021:43:20"
                },
                {
                  "expression": {
                    "id": 3355,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 3349,
                      "name": "tokenHoldersNetReward",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3283,
                      "src": "3126:21:20",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "commonType": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "id": 3354,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "leftExpression": {
                        "commonType": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        "id": 3352,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "id": 3350,
                          "name": "baseFee",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3293,
                          "src": "3150:7:20",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "-",
                        "rightExpression": {
                          "id": 3351,
                          "name": "discountedFee",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3302,
                          "src": "3160:13:20",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "src": "3150:23:20",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "nodeType": "BinaryOperation",
                      "operator": "-",
                      "rightExpression": {
                        "id": 3353,
                        "name": "affiliatorNetReward",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3281,
                        "src": "3176:19:20",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "src": "3150:45:20",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "3126:69:20",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 3356,
                  "nodeType": "ExpressionStatement",
                  "src": "3126:69:20"
                }
              ]
            },
            "functionSelector": "42ba2f24",
            "id": 3358,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "calculateNetValue",
            "nameLocation": "1740:17:20",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3275,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3268,
                  "mutability": "mutable",
                  "name": "fullItemPrice",
                  "nameLocation": "1776:13:20",
                  "nodeType": "VariableDeclaration",
                  "scope": 3358,
                  "src": "1768:21:20",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3267,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "1768:7:20",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3270,
                  "mutability": "mutable",
                  "name": "isBuyerAffiliated",
                  "nameLocation": "1805:17:20",
                  "nodeType": "VariableDeclaration",
                  "scope": 3358,
                  "src": "1800:22:20",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bool",
                    "typeString": "bool"
                  },
                  "typeName": {
                    "id": 3269,
                    "name": "bool",
                    "nodeType": "ElementaryTypeName",
                    "src": "1800:4:20",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3272,
                  "mutability": "mutable",
                  "name": "baseFeePercent",
                  "nameLocation": "1841:14:20",
                  "nodeType": "VariableDeclaration",
                  "scope": 3358,
                  "src": "1833:22:20",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3271,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "1833:7:20",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3274,
                  "mutability": "mutable",
                  "name": "discountRatio",
                  "nameLocation": "1874:13:20",
                  "nodeType": "VariableDeclaration",
                  "scope": 3358,
                  "src": "1866:21:20",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3273,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "1866:7:20",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "1757:190:20"
            },
            "returnParameters": {
              "id": 3284,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3277,
                  "mutability": "mutable",
                  "name": "buyerNetPrice",
                  "nameLocation": "2020:13:20",
                  "nodeType": "VariableDeclaration",
                  "scope": 3358,
                  "src": "2012:21:20",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3276,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2012:7:20",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3279,
                  "mutability": "mutable",
                  "name": "sellerNetProceeds",
                  "nameLocation": "2083:17:20",
                  "nodeType": "VariableDeclaration",
                  "scope": 3358,
                  "src": "2075:25:20",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3278,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2075:7:20",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3281,
                  "mutability": "mutable",
                  "name": "affiliatorNetReward",
                  "nameLocation": "2154:19:20",
                  "nodeType": "VariableDeclaration",
                  "scope": 3358,
                  "src": "2146:27:20",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3280,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2146:7:20",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3283,
                  "mutability": "mutable",
                  "name": "tokenHoldersNetReward",
                  "nameLocation": "2229:21:20",
                  "nodeType": "VariableDeclaration",
                  "scope": 3358,
                  "src": "2221:29:20",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3282,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2221:7:20",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "1997:296:20"
            },
            "scope": 3359,
            "src": "1731:1472:20",
            "stateMutability": "pure",
            "virtual": false,
            "visibility": "external"
          }
        ],
        "scope": 3360,
        "src": "229:2977:20",
        "usedErrors": []
      }
    ],
    "src": "33:3175:20"
  },
  "compiler": {
    "name": "solc",
    "version": "0.8.19+commit.7dd6d404.Emscripten.clang"
  },
  "networks": {},
  "schemaVersion": "3.4.3",
  "updatedAt": "2023-08-22T17:36:56.436Z",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  }
}